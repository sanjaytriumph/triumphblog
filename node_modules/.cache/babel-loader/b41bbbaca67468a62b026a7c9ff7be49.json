{"ast":null,"code":"var _jsxFileName = \"D:\\\\myreact\\\\triumphblog\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport { Redirect } from \"react-router\";\nimport axios from \"axios\";\nimport LoggedinContext from \"../loggedin-context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = props => {\n  _s();\n\n  const {\n    loggedin,\n    setLoggedin\n  } = useContext(LoggedinContext);\n  const [submitted, setSubmitted] = useState(false);\n  const [value, setValue] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  const onChangeHandler = e => {\n    const tid = e.target.id;\n    document.getElementById(tid).classList.remove(\"is-invalid\");\n    setValue({ ...value,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n\n    if (value.username && value.password) {\n      console.log(`submitted with the values ${value.username} and ${value.password}`);\n      axios.get(`${props.apiurl}login`).then(res => {\n        const pdata = res.data; //return setPosts(pdata);\n\n        pdata.map((item, index) => {\n          if (item.username == value.username && item.password == value.password) {\n            console.log(\"good to go\"); //sessionStorage.setItem('loggedin','true');\n\n            sessionStorage.setItem(\"loggedIn\", \"true\");\n            sessionStorage.setItem(\"username\", item.username);\n            sessionStorage.setItem(\"role\", item.role);\n            document.cookie = \"username =\" + item.role;\n            setSubmitted(true);\n            setLoggedin(sessionStorage.getItem(\"loggedIn\"));\n          } else {\n            setError(true);\n            setErrorMsg(\"Invalid Credentials\");\n          }\n        });\n      });\n    } else {\n      setError(true);\n      setErrorMsg(\"Please enter username and password\");\n    }\n\n    if (value.username == false) {\n      document.getElementById(\"username\").classList.add(\"is-invalid\");\n    }\n\n    if (value.password == false) {\n      document.getElementById(\"password\").classList.add(\"is-invalid\");\n    }\n  };\n\n  if (submitted) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      push: true,\n      to: {\n        pathname: \"/admin/dashboard\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container pt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-header\",\n              children: [\"Login\", \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"h6\",\n                children: \"(username: sanjaykumar, password: sanjay123)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [error ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-danger\",\n                children: errorMsg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 19\n              }, this) : \"\", /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: onSubmitHandler,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"username\",\n                    className: \"form-label\",\n                    children: \"Username\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    autoComplete: \"off\",\n                    type: \"text\",\n                    className: \"form-control\",\n                    id: \"username\",\n                    \"aria-describedby\": \"usernameHelp\",\n                    name: \"username\",\n                    onChange: onChangeHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"exampleInputPassword1\",\n                    className: \"form-label\",\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    autoComplete: \"off\",\n                    type: \"password\",\n                    className: \"form-control\",\n                    id: \"password\",\n                    name: \"password\",\n                    onChange: onChangeHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-primary\",\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"DX/Xqra2phAlwX/jQJKFOcI0/ys=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/myreact/triumphblog/src/components/Login.js"],"names":["React","useState","useContext","Redirect","axios","LoggedinContext","Login","props","loggedin","setLoggedin","submitted","setSubmitted","value","setValue","username","password","error","setError","errorMsg","setErrorMsg","onChangeHandler","e","tid","target","id","document","getElementById","classList","remove","name","onSubmitHandler","preventDefault","console","log","get","apiurl","then","res","pdata","data","map","item","index","sessionStorage","setItem","role","cookie","getItem","add","pathname"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport LoggedinContext from \"../loggedin-context\";\r\n\r\nconst Login = (props) => {\r\n  const { loggedin, setLoggedin } = useContext(LoggedinContext);\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [value, setValue] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [error, setError] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const onChangeHandler = (e) => {\r\n    const tid = e.target.id;\r\n    document.getElementById(tid).classList.remove(\"is-invalid\");\r\n    setValue({\r\n      ...value,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (value.username && value.password) {\r\n      console.log(\r\n        `submitted with the values ${value.username} and ${value.password}`\r\n      );\r\n      axios.get(`${props.apiurl}login`).then((res) => {\r\n        const pdata = res.data;\r\n        //return setPosts(pdata);\r\n\r\n        pdata.map((item, index) => {\r\n          if (\r\n            item.username == value.username &&\r\n            item.password == value.password\r\n          ) {\r\n            console.log(\"good to go\");\r\n            //sessionStorage.setItem('loggedin','true');\r\n            sessionStorage.setItem(\"loggedIn\", \"true\");\r\n            sessionStorage.setItem(\"username\", item.username);\r\n            sessionStorage.setItem(\"role\", item.role);\r\n            document.cookie = \"username =\" + item.role;\r\n            setSubmitted(true);\r\n            setLoggedin(sessionStorage.getItem(\"loggedIn\"));\r\n          } else {\r\n            setError(true);\r\n            setErrorMsg(\"Invalid Credentials\");\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      setError(true);\r\n      setErrorMsg(\"Please enter username and password\");\r\n    }\r\n    if (value.username == false) {\r\n      document.getElementById(\"username\").classList.add(\"is-invalid\");\r\n    }\r\n    if (value.password == false) {\r\n      document.getElementById(\"password\").classList.add(\"is-invalid\");\r\n    }\r\n  };\r\n  if (submitted) {\r\n    return (\r\n      <Redirect\r\n        push\r\n        to={{\r\n          pathname: \"/admin/dashboard\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"container pt-3\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card\">\r\n              <h5 className=\"card-header\">\r\n                Login{\" \"}\r\n                <small className=\"h6\">\r\n                  (username: sanjaykumar, password: sanjay123)\r\n                </small>{\" \"}\r\n              </h5>\r\n              <div className=\"card-body\">\r\n                {error ? (\r\n                  <div className=\"alert alert-danger\">{errorMsg}</div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n\r\n                <form onSubmit={onSubmitHandler}>\r\n                  <div className=\"mb-3\">\r\n                    <label for=\"username\" className=\"form-label\">\r\n                      Username\r\n                    </label>\r\n                    <input\r\n                      autoComplete=\"off\"\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"username\"\r\n                      aria-describedby=\"usernameHelp\"\r\n                      name=\"username\"\r\n                      onChange={onChangeHandler}\r\n                    />\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <label for=\"exampleInputPassword1\" className=\"form-label\">\r\n                      Password\r\n                    </label>\r\n                    <input\r\n                      autoComplete=\"off\"\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      id=\"password\"\r\n                      name=\"password\"\r\n                      onChange={onChangeHandler}\r\n                    />\r\n                  </div>\r\n\r\n                  <button type=\"submit\" className=\"btn btn-primary\">\r\n                    Submit\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}