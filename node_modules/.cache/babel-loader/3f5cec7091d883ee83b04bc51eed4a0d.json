{"ast":null,"code":"import _slicedToArray from\"C:/myreact/triumphblog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PostList=function PostList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];function fetchData(){// const res = await fetch(\"http://localhost:3000/posts\");\n// const data = await res.json();\n// return setPosts(data);\naxios.get('http://localhost:3000/posts').then(function(res){var pdata=res.data;return setPosts(pdata);});}useEffect(function(){fetchData();console.log('after posts'+posts);},[]);return/*#__PURE__*/_jsx(_Fragment,{children:posts.slice(0).reverse().map(function(item){var content=item.content;console.log(content.length);if(content.length>100){content=content.substr(0,100)+'...';}return/*#__PURE__*/_jsxs(\"article\",{className:\"card mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"h4\",children:/*#__PURE__*/_jsx(Link,{to:\"post-detail/:\".concat(item.id),children:item.title})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body article-content\",children:[content,content.length>100?/*#__PURE__*/_jsx(\"p\",{className:\"text-end mt-3\",children:/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary btn-sm\",to:\"post-detail/:\".concat(item.id),children:\"Read More\"})}):'']})]},item.id);})});};export default PostList;","map":{"version":3,"sources":["C:/myreact/triumphblog/src/components/PostList.js"],"names":["React","useState","useEffect","Link","axios","PostList","posts","setPosts","fetchData","get","then","res","pdata","data","console","log","slice","reverse","map","item","content","length","substr","id","title"],"mappings":"6IAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAU,CACvB,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eAEA,QAASC,CAAAA,SAAT,EAAqB,CACjB;AACA;AAEA;AACAJ,KAAK,CAACK,GAAN,CAAU,6BAAV,EACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACX,GAAMC,CAAAA,KAAK,CAAGD,GAAG,CAACE,IAAlB,CACA,MAAON,CAAAA,QAAQ,CAACK,KAAD,CAAf,CACD,CAJD,EAKD,CACDV,SAAS,CAAC,UAAM,CACdM,SAAS,GACTM,OAAO,CAACC,GAAR,CAAY,cAAgBT,KAA5B,EACD,CAHQ,CAGP,EAHO,CAAT,CAKF,mBAAO,yBAGCA,KAAK,CAACU,KAAN,CAAY,CAAZ,EAAeC,OAAf,GAAyBC,GAAzB,CAA6B,SAACC,IAAD,CAAS,CAClC,GAAIC,CAAAA,OAAO,CAAGD,IAAI,CAACC,OAAnB,CACAN,OAAO,CAACC,GAAR,CAAYK,OAAO,CAACC,MAApB,EACA,GAAGD,OAAO,CAACC,MAAR,CAAiB,GAApB,CAAwB,CACpBD,OAAO,CAAGA,OAAO,CAACE,MAAR,CAAe,CAAf,CAAiB,GAAjB,EAAwB,KAAlC,CACH,CACD,mBAAQ,iBAAS,SAAS,CAAC,WAAnB,wBACR,YAAK,SAAS,CAAC,aAAf,uBACA,WAAI,SAAS,CAAC,IAAd,uBAAmB,KAAC,IAAD,EAAM,EAAE,wBAAkBH,IAAI,CAACI,EAAvB,CAAR,UAAsCJ,IAAI,CAACK,KAA3C,EAAnB,EADA,EADQ,cAMR,aAAK,SAAS,CAAC,2BAAf,WACKJ,OADL,CAGOA,OAAO,CAACC,MAAR,CAAiB,GAAlB,cACA,UAAG,SAAS,CAAC,eAAb,uBAA6B,KAAC,IAAD,EAAM,SAAS,CAAC,wBAAhB,CAAyC,EAAE,wBAAkBF,IAAI,CAACI,EAAvB,CAA3C,uBAA7B,EADA,CAEC,EALP,GANQ,GAAoCJ,IAAI,CAACI,EAAzC,CAAR,CAgBH,CAtBD,CAHD,EAAP,CA6BH,CAhDD,CAkDA,cAAelB,CAAAA,QAAf","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst PostList = function(){\r\n    const [posts, setPosts] = useState([]);\r\n    \r\n    function fetchData() {\r\n        // const res = await fetch(\"http://localhost:3000/posts\");\r\n        // const data = await res.json();\r\n\r\n        // return setPosts(data);\r\n        axios.get('http://localhost:3000/posts')\r\n        .then(res => {\r\n          const pdata = res.data;\r\n          return setPosts(pdata);\r\n        })\r\n      }\r\n      useEffect(() => {\r\n        fetchData();\r\n        console.log('after posts' + posts);\r\n      },[]);\r\n\r\n    return <>\r\n            \r\n        {\r\n            posts.slice(0).reverse().map((item) =>{\r\n                let content = item.content;\r\n                console.log(content.length);\r\n                if(content.length > 100){\r\n                    content = content.substr(0,100) + '...';\r\n                }\r\n                return (<article className=\"card mb-4\" key={item.id}>\r\n                <div className=\"card-header\">\r\n                <h2 className=\"h4\"><Link to={`post-detail/:${item.id}`}>{item.title}</Link></h2>\r\n                {/* <Link to={`edit-post/:${item.id}/:${item.title}/:${item.content}`}>edit</Link> */}\r\n                \r\n                </div>                    \r\n                <div className=\"card-body article-content\">                    \r\n                    {content}\r\n                    {\r\n                      (content.length > 100)? \r\n                      <p className=\"text-end mt-3\"><Link className=\"btn btn-primary btn-sm\" to={`post-detail/:${item.id}`}>Read More</Link></p>\r\n                      :''\r\n                    }\r\n                    \r\n                </div>\r\n            </article>)\r\n            })\r\n        }\r\n       \r\n    </>\r\n}\r\n\r\nexport default PostList"]},"metadata":{},"sourceType":"module"}