{"ast":null,"code":"import _defineProperty from\"C:/myreact/triumphblog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/myreact/triumphblog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/myreact/triumphblog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Redirect}from'react-router';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddPost=function AddPost(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState({postTitle:'',postContent:''}),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),submitted=_useState6[0],setSubmitted=_useState6[1];var onChangeHandler=function onChangeHandler(e){// console.log(e.target.value)\n// e.target.name = e.target.value;\nsetValue(_objectSpread(_objectSpread({},value),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();var requestOptions={title:value.postTitle,content:value.postContent};axios.post(\"http://localhost:3000/posts\",requestOptions).then(function(res){setSubmitted(true);var pdata=res.data;return setPosts(pdata);});};if(submitted){return/*#__PURE__*/_jsx(Redirect,{push:true,to:{pathname:'/'}});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-5\",children:\"Add Blog Post Here\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"labe\",{children:\"Blog title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"postTitle\",className:\"form-control\",required:true,onChange:onChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-4\",children:[/*#__PURE__*/_jsx(\"labe\",{children:\"Blog content\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"postContent\",className:\"form-control\",required:true,onChange:onChangeHandler})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",children:\"Submit Post\"})})]})]});};export default AddPost;","map":{"version":3,"sources":["C:/myreact/triumphblog/src/components/AddPost.js"],"names":["React","useState","Redirect","axios","AddPost","posts","setPosts","postTitle","postContent","value","setValue","submitted","setSubmitted","onChangeHandler","e","target","name","onSubmitHandler","preventDefault","requestOptions","title","content","post","then","res","pdata","data","pathname"],"mappings":"waAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CACA,OAASC,QAAT,KAAyB,cAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAU,CACtB,cAA0BH,QAAQ,CAAC,EAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,eAA0BL,QAAQ,CAAC,CAC/BM,SAAS,CAAC,EADqB,CAE/BC,WAAW,CAAC,EAFmB,CAAD,CAAlC,yCAAOC,KAAP,eAAcC,QAAd,eAIA,eAAkCT,QAAQ,CAAC,KAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eAGA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAM,CAC1B;AACA;AACAJ,QAAQ,gCACDD,KADC,wBAEHK,CAAC,CAACC,MAAF,CAASC,IAFN,CAEaF,CAAC,CAACC,MAAF,CAASN,KAFtB,GAAR,CAIH,CAPD,CAQE,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACH,CAAD,CAAM,CAC5BA,CAAC,CAACI,cAAF,GAEA,GAAMC,CAAAA,cAAc,CAAG,CACnBC,KAAK,CAAEX,KAAK,CAACF,SADM,CAEnBc,OAAO,CAAEZ,KAAK,CAACD,WAFI,CAAvB,CAIAL,KAAK,CAACmB,IAAN,CAAW,6BAAX,CAAyCH,cAAzC,EACCI,IADD,CACM,SAAAC,GAAG,CAAI,CACTZ,YAAY,CAAC,IAAD,CAAZ,CACA,GAAMa,CAAAA,KAAK,CAAGD,GAAG,CAACE,IAAlB,CACA,MAAOpB,CAAAA,QAAQ,CAACmB,KAAD,CAAf,CACD,CALH,EAOD,CAdD,CAeA,GAAId,SAAJ,CAAe,CACb,mBAAO,KAAC,QAAD,EAAU,IAAI,KAAd,CAAe,EAAE,CAAE,CACxBgB,QAAQ,CAAE,GADc,CAAnB,EAAP,CAID,CACH,mBAAO,wCACH,WAAI,SAAS,CAAC,MAAd,gCADG,cAEH,cAAM,QAAQ,CAAIV,eAAlB,wBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,oCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,SAAS,CAAC,cAA9C,CAA6D,QAAQ,KAArE,CAAsE,QAAQ,CAAIJ,eAAlF,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,iBAAf,wBACI,sCADJ,cAEI,iBAAU,IAAI,CAAC,aAAf,CAA6B,SAAS,CAAC,cAAvC,CAAsD,QAAQ,KAA9D,CAA+D,QAAQ,CAAIA,eAA3E,EAFJ,GALJ,cASI,UAAG,SAAS,CAAC,UAAb,uBAAwB,eAAQ,SAAS,CAAC,cAAlB,yBAAxB,EATJ,GAFG,GAAP,CAcH,CApDD,CAsDA,cAAeT,CAAAA,OAAf","sourcesContent":["import React,{useState} from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport axios from 'axios';\r\n\r\nconst AddPost = function(){\r\n    const [posts, setPosts] = useState([]);\r\n    const [value, setValue] = useState({\r\n        postTitle:'',\r\n        postContent:''\r\n    });\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    \r\n    const onChangeHandler = (e) =>{\r\n        // console.log(e.target.value)\r\n        // e.target.name = e.target.value;\r\n        setValue({\r\n            ...value,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n      const onSubmitHandler = (e) =>{\r\n        e.preventDefault();\r\n       \r\n        const requestOptions = {\r\n            title: value.postTitle,\r\n            content: value.postContent\r\n        }\r\n        axios.post(\"http://localhost:3000/posts\",requestOptions)\r\n        .then(res => {\r\n            setSubmitted(true);\r\n            const pdata = res.data;\r\n            return setPosts(pdata);\r\n          })\r\n        \r\n      }\r\n      if (submitted) {\r\n        return <Redirect push to={{\r\n          pathname: '/'\r\n        }}\r\n        />\r\n      } \r\n    return <>\r\n        <h2 className=\"mb-5\">Add Blog Post Here</h2>\r\n        <form onSubmit = {onSubmitHandler}>\r\n            <div className=\"form-group mb-4\">\r\n                <labe>Blog title</labe>\r\n                <input type=\"text\" name=\"postTitle\" className=\"form-control\" required onChange = {onChangeHandler}/>\r\n            </div>\r\n            <div className=\"form-group mb-4\">\r\n                <labe>Blog content</labe>\r\n                <textarea name=\"postContent\" className=\"form-control\" required onChange = {onChangeHandler}></textarea>\r\n            </div>\r\n            <p className=\"text-end\"><button className=\"btn btn-info\">Submit Post</button></p>\r\n        </form>\r\n    </>\r\n}\r\n\r\nexport default AddPost"]},"metadata":{},"sourceType":"module"}