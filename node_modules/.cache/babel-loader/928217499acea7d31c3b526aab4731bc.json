{"ast":null,"code":"import _slicedToArray from\"C:/myreact/triumphblog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminPostList=function AdminPostList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];function fetchData(){// const res = await fetch(\"http://localhost:3000/posts\");\n// const data = await res.json();\n// return setPosts(data);\naxios.get(\"\".concat(props.apiurl,\"posts\")).then(function(res){var pdata=res.data;return setPosts(pdata);});}useEffect(function(){fetchData();console.log('after posts'+posts);},[]);return/*#__PURE__*/_jsx(_Fragment,{children:posts.slice(0).reverse().map(function(item){return/*#__PURE__*/_jsx(\"article\",{className:\"card mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h4\",children:/*#__PURE__*/_jsx(Link,{to:\"edit-post/:\".concat(item.id),children:item.title})}),/*#__PURE__*/_jsx(Link,{to:\"edit-post/:\".concat(item.id),children:\" Edit\"}),/*#__PURE__*/_jsx(Link,{to:\"delete-post/:\".concat(item.id),children:\" Delete\"})]})},item.id);})});};export default AdminPostList;","map":{"version":3,"sources":["C:/myreact/triumphblog/src/components/admin/AdminPostList.js"],"names":["React","useState","useEffect","Link","axios","AdminPostList","props","posts","setPosts","fetchData","get","apiurl","then","res","pdata","data","console","log","slice","reverse","map","item","id","title"],"mappings":"6IAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAASC,KAAT,CAAe,CACjC,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eAEA,QAASC,CAAAA,SAAT,EAAqB,CACjB;AACA;AAEA;AACAL,KAAK,CAACM,GAAN,WAAaJ,KAAK,CAACK,MAAnB,WACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACX,GAAMC,CAAAA,KAAK,CAAGD,GAAG,CAACE,IAAlB,CACA,MAAOP,CAAAA,QAAQ,CAACM,KAAD,CAAf,CACD,CAJD,EAKD,CACDZ,SAAS,CAAC,UAAM,CACdO,SAAS,GACTO,OAAO,CAACC,GAAR,CAAY,cAAgBV,KAA5B,EACD,CAHQ,CAGP,EAHO,CAAT,CAKF,mBAAO,yBAGCA,KAAK,CAACW,KAAN,CAAY,CAAZ,EAAeC,OAAf,GAAyBC,GAAzB,CAA6B,SAACC,IAAD,CAAS,CAElC,mBAAQ,gBAAS,SAAS,CAAC,WAAnB,uBACR,aAAK,SAAS,CAAC,aAAf,wBACA,WAAI,SAAS,CAAC,IAAd,uBAAmB,KAAC,IAAD,EAAM,EAAE,sBAAgBA,IAAI,CAACC,EAArB,CAAR,UAAoCD,IAAI,CAACE,KAAzC,EAAnB,EADA,cAGA,KAAC,IAAD,EAAM,EAAE,sBAAgBF,IAAI,CAACC,EAArB,CAAR,mBAHA,cAIA,KAAC,IAAD,EAAM,EAAE,wBAAkBD,IAAI,CAACC,EAAvB,CAAR,qBAJA,GADQ,EAAoCD,IAAI,CAACC,EAAzC,CAAR,CASH,CAXD,CAHD,EAAP,CAkBH,CArCD,CAuCA,cAAejB,CAAAA,aAAf","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst AdminPostList = function(props){\r\n    const [posts, setPosts] = useState([]);\r\n    \r\n    function fetchData() {\r\n        // const res = await fetch(\"http://localhost:3000/posts\");\r\n        // const data = await res.json();\r\n\r\n        // return setPosts(data);\r\n        axios.get(`${props.apiurl}posts`)\r\n        .then(res => {\r\n          const pdata = res.data;\r\n          return setPosts(pdata);\r\n        })\r\n      }\r\n      useEffect(() => {\r\n        fetchData();\r\n        console.log('after posts' + posts);\r\n      },[]);\r\n\r\n    return <>\r\n            \r\n        {\r\n            posts.slice(0).reverse().map((item) =>{\r\n                \r\n                return (<article className=\"card mb-4\" key={item.id}>\r\n                <div className=\"card-header\">\r\n                <h2 className=\"h4\"><Link to={`edit-post/:${item.id}`}>{item.title}</Link></h2>\r\n                {/* <Link to={`edit-post/:${item.id}/:${item.title}/:${item.content}`}>edit</Link> */}\r\n                <Link to={`edit-post/:${item.id}`}> Edit</Link>\r\n                <Link to={`delete-post/:${item.id}`}> Delete</Link>\r\n                </div>                    \r\n               \r\n            </article>)\r\n            })\r\n        }\r\n       \r\n    </>\r\n}\r\n\r\nexport default AdminPostList"]},"metadata":{},"sourceType":"module"}