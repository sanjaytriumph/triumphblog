{"ast":null,"code":"import _slicedToArray from\"C:/myreact/triumphblog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{Redirect}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DeletePost=function DeletePost(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useParams=useParams(),id=_useParams.id;var postId=id.replace(':','');//console.log(postId);\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),submitted=_useState4[0],setSubmitted=_useState4[1];var apiURL='http://localhost:3000/posts/'+postId;var fetchData=function fetchData(){axios.delete(apiURL).then(function(res){setSubmitted(true);var pdata=res.data;return setPosts(pdata);});};useEffect(function(){fetchData();},[]);if(submitted){return/*#__PURE__*/_jsx(Redirect,{push:true,to:{pathname:'/'}});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-danger\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})})});};export default DeletePost;","map":{"version":3,"sources":["C:/myreact/triumphblog/src/components/DeletePost.js"],"names":["React","useState","useEffect","useParams","axios","Redirect","DeletePost","posts","setPosts","id","postId","replace","submitted","setSubmitted","apiURL","fetchData","delete","then","res","pdata","data","pathname"],"mappings":"6IAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,cAAzB,C,gGAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAU,CACzB,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAaL,SAAS,EAAtB,CAAOM,EAAP,YAAOA,EAAP,CAEA,GAAMC,CAAAA,MAAM,CAAGD,EAAE,CAACE,OAAH,CAAW,GAAX,CAAe,EAAf,CAAf,CACA;AACA,eAAkCV,QAAQ,CAAC,KAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,MAAM,CAAG,+BAA+BJ,MAA9C,CACA,GAAMK,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAU,CACxBX,KAAK,CAACY,MAAN,CAAaF,MAAb,EACCG,IADD,CACM,SAAAC,GAAG,CAAI,CACTL,YAAY,CAAC,IAAD,CAAZ,CACF,GAAMM,CAAAA,KAAK,CAAGD,GAAG,CAACE,IAAlB,CACA,MAAOZ,CAAAA,QAAQ,CAACW,KAAD,CAAf,CACD,CALD,EAMH,CAPD,CASEjB,SAAS,CAAC,UAAM,CACda,SAAS,GACV,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAIH,SAAJ,CAAe,CACb,mBAAO,KAAC,QAAD,EAAU,IAAI,KAAd,CAAe,EAAE,CAAE,CACxBS,QAAQ,CAAE,GADc,CAAnB,EAAP,CAID,CACH,mBAAO,sCACC,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,SAAS,CAAC,4BAAf,CAA4C,IAAI,CAAC,QAAjD,uBACA,aAAM,SAAS,CAAC,iBAAhB,wBADA,EADJ,EADD,EAAP,CAQH,CApCD,CAsCA,cAAef,CAAAA,UAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst DeletePost = function(){\r\n    const [posts, setPosts] = useState([]);\r\n    const {id} = useParams();\r\n   \r\n    const postId = id.replace(':','');\r\n    //console.log(postId);\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    const apiURL = 'http://localhost:3000/posts/'+postId;\r\n    const fetchData = function(){\r\n        axios.delete(apiURL)\r\n        .then(res => {\r\n            setSubmitted(true);\r\n          const pdata = res.data;\r\n          return setPosts(pdata);\r\n        })\r\n    }\r\n\r\n      useEffect(() => {\r\n        fetchData();        \r\n      },[]);\r\n\r\n      if (submitted) {\r\n        return <Redirect push to={{\r\n          pathname: '/'\r\n        }}\r\n        />\r\n      }\r\n    return <>\r\n            <div className=\"text-center\">\r\n                <div className=\"spinner-border text-danger\" role=\"status\">\r\n                <span className=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n            </div>\r\n            \r\n    </>\r\n}\r\n\r\nexport default DeletePost"]},"metadata":{},"sourceType":"module"}