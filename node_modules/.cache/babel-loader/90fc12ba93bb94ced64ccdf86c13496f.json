{"ast":null,"code":"var _jsxFileName = \"C:\\\\myreact\\\\triumphblog\\\\src\\\\components\\\\DeletePost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst DeletePost = function (props) {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const {\n    id\n  } = useParams();\n  const postId = id.replace(':', ''); //console.log(postId);\n\n  const [submitted, setSubmitted] = useState(false); // const apiURL = 'http://localhost:3000/posts/'+postId;\n\n  const apiURL = `${props.apiurl}posts/${postId}`;\n\n  const fetchData = function () {\n    axios.delete(apiURL).then(res => {\n      setSubmitted(true);\n      const pdata = res.data;\n      return setPosts(pdata);\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (submitted) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      push: true,\n      to: {\n        pathname: '/'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-danger\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(DeletePost, \"xk9Ct6QrRJST8daeoOCZCpQsx/s=\", false, function () {\n  return [useParams];\n});\n\n_c = DeletePost;\nexport default DeletePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeletePost\");","map":{"version":3,"sources":["C:/myreact/triumphblog/src/components/DeletePost.js"],"names":["React","useState","useEffect","useParams","axios","Redirect","DeletePost","props","posts","setPosts","id","postId","replace","submitted","setSubmitted","apiURL","apiurl","fetchData","delete","then","res","pdata","data","pathname"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,cAAzB;;;;AAEA,MAAMC,UAAU,GAAG,UAASC,KAAT,EAAe;AAAA;;AAC9B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAACS,IAAAA;AAAD,MAAOP,SAAS,EAAtB;AAEA,QAAMQ,MAAM,GAAGD,EAAE,CAACE,OAAH,CAAW,GAAX,EAAe,EAAf,CAAf,CAJ8B,CAK9B;;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,KAAD,CAA1C,CAN8B,CAQ9B;;AACA,QAAMc,MAAM,GAAI,GAAER,KAAK,CAACS,MAAO,SAAQL,MAAO,EAA9C;;AACA,QAAMM,SAAS,GAAG,YAAU;AACxBb,IAAAA,KAAK,CAACc,MAAN,CAAaH,MAAb,EACCI,IADD,CACMC,GAAG,IAAI;AACTN,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACF,YAAMO,KAAK,GAAGD,GAAG,CAACE,IAAlB;AACA,aAAOb,QAAQ,CAACY,KAAD,CAAf;AACD,KALD;AAMH,GAPD;;AASEnB,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,SAAS;AACV,GAFQ,EAEP,EAFO,CAAT;;AAIA,MAAIJ,SAAJ,EAAe;AACb,wBAAO,QAAC,QAAD;AAAU,MAAA,IAAI,MAAd;AAAe,MAAA,EAAE,EAAE;AACxBU,QAAAA,QAAQ,EAAE;AADc;AAAnB;AAAA;AAAA;AAAA;AAAA,YAAP;AAID;;AACH,sBAAO;AAAA,2BACC;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,4BAAf;AAA4C,QAAA,IAAI,EAAC,QAAjD;AAAA,+BACA;AAAM,UAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADD,mBAAP;AAQH,CArCD;;GAAMjB,U;UAEWH,S;;;KAFXG,U;AAuCN,eAAeA,UAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst DeletePost = function(props){\r\n    const [posts, setPosts] = useState([]);\r\n    const {id} = useParams();\r\n   \r\n    const postId = id.replace(':','');\r\n    //console.log(postId);\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    // const apiURL = 'http://localhost:3000/posts/'+postId;\r\n    const apiURL = `${props.apiurl}posts/${postId}`;\r\n    const fetchData = function(){\r\n        axios.delete(apiURL)\r\n        .then(res => {\r\n            setSubmitted(true);\r\n          const pdata = res.data;\r\n          return setPosts(pdata);\r\n        })\r\n    }\r\n\r\n      useEffect(() => {\r\n        fetchData();        \r\n      },[]);\r\n\r\n      if (submitted) {\r\n        return <Redirect push to={{\r\n          pathname: '/'\r\n        }}\r\n        />\r\n      }\r\n    return <>\r\n            <div className=\"text-center\">\r\n                <div className=\"spinner-border text-danger\" role=\"status\">\r\n                <span className=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n            </div>\r\n            \r\n    </>\r\n}\r\n\r\nexport default DeletePost"]},"metadata":{},"sourceType":"module"}